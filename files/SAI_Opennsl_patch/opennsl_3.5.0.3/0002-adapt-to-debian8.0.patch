
---
 output/x86-xgs5-deb80/INSTALL     |  75 +++++++++++++++++++++++++
 output/x86-xgs5-deb80/Make.local  |  59 ++++++++++++++++++++
 output/x86-xgs5-deb80/Makefile    | 113 ++++++++++++++++++++++++++++++++++++++
 output/x86-xgs5-deb80/package.cfg |   5 ++
 4 files changed, 252 insertions(+)
 create mode 100644 output/x86-xgs5-deb80/INSTALL
 create mode 100644 output/x86-xgs5-deb80/Make.local
 create mode 100644 output/x86-xgs5-deb80/Makefile
 create mode 100644 output/x86-xgs5-deb80/package.cfg

diff --git a/output/x86-xgs5-deb80/INSTALL b/output/x86-xgs5-deb80/INSTALL
new file mode 100644
index 0000000..d4c969f
--- /dev/null
+++ b/output/x86-xgs5-deb80/INSTALL
@@ -0,0 +1,75 @@
+This document describes how to install OpenNSL binary provided
+in this package on the supported SVK platforms with XLR CPU card.
+
+Building OpenNSL
+================
+Source code for OpenNSL sample applications may be built on the switch. Use the
+following steps to compile OpenNSL including sample applications.
+
+1) Extract the code tarball into the destination directory say opennsl_root.
+
+2) Go to output directory: opennsl_root/opennsl/output/xlr-xgs5-ub14
+
+3) Issue "make" to create an OpenNSL shared library object, linux kernel modules.
+
+4) The deliverables folder : opennsl_root/opennsl/output/xlr-xgs5-ub14/build
+   shall have the following files.
+   a) Linux kernel module                     : linux-kernel-bde.ko
+   b) Linux user module                       : linux-user-bde.ko
+   c) KNET driver module                      : linux-bcm-knet.ko
+   d) OpenNSL shared object library           : libopennsl.so
+
+Building example Applications
+=============================
+NOTE: This section is applicable only if the package includes example applications.
+
+Source code for OpenNSL sample applications may be built on the switch. The
+example applications are dynamically linked with the OpenNSL shared library.
+Use the following steps to compile example applications.
+
+1) Go to output directory: opennsl_root/opennsl/output/xlr-xgs5-ub14
+
+2) Issue "make examples" to compile all the sample applications
+
+
+Downloading and running OpenNSL sample applications
+===================================================
+
+1) cd to target deliverables directory:
+   opennsl_root/opennsl/output/xlr-xgs5-ub14
+
+2) Use the following commands to update the linux kernel modules
+   i  ) Execute "lsmod" to list the installed linux kernel modules.
+   ii ) Remove the linux kernel and user modules by using "rmmod" command.
+   iii) Install linux kernel modules built for OpenNSL platform by using
+        the following commands. Please ensure that the modules are removed
+        before inserting it using 'rmmod' command.
+        # mknod /dev/linux-kernel-bde c 127 0
+        # mknod /dev/linux-user-bde c 126 0
+        # mknod /dev/linux-bcm-knet c 122 0
+        # insmod linux-kernel-bde.ko
+        # insmod linux-user-bde.ko
+        # insmod linux-bcm-knet.ko
+
+3) Install OpenNSL shared library. The destination directory to install the
+   shared library depends on the host environment configuration.  Install the
+   library files in a location included in the system's library search path.
+   # mv libopennsl.so.1 /usr/lib
+   # cd /usr/lib
+   # ln -sf libopennsl.so.1 libopennsl.so
+
+4) Download the platform specific configuration files to switch. Set the OPENNSL_CONFIG_FILE path to point to configuration files. Refer to OpenNSL documentation, section "Customizing OpenNSL platform" for more details.
+
+5) For Trident3 platform, download the CanCun files, to the switch. Put these files in the directory from which the sample applications are run. The CanCun files that are needed are given below:
+    bcm56870_a0_cmh.pkg
+    bcm56870_a0_cch.pkg
+    bcm56870_a0_ceh.pkg
+    bcm56870_a0_cih.pkg
+    bcm56870_a0_cfh.pkg
+
+   Please note, without these, the SDK will not be initialized properly. 
+ 
+6) cd to the target deliverables directory and run the sample application.
+    # chmod +x sample_application
+    #./sample_application
+
diff --git a/output/x86-xgs5-deb80/Make.local b/output/x86-xgs5-deb80/Make.local
new file mode 100644
index 0000000..c71b8f6
--- /dev/null
+++ b/output/x86-xgs5-deb80/Make.local
@@ -0,0 +1,59 @@
+# $Id: Make.local, Broadcom OpenNSL $
+# $Copyright: Copyright 2016 Broadcom Corporation.
+# This program is the proprietary software of Broadcom Corporation
+# and/or its licensors, and may only be used, duplicated, modified
+# or distributed pursuant to the terms and conditions of a separate,
+# written license agreement executed between you and Broadcom
+# (an "Authorized License").  Except as set forth in an Authorized
+# License, Broadcom grants no license (express or implied), right
+# to use, or waiver of any kind with respect to the Software, and
+# Broadcom expressly reserves all rights in and to the Software
+# and all intellectual property rights therein.  IF YOU HAVE
+# NO AUTHORIZED LICENSE, THEN YOU HAVE NO RIGHT TO USE THIS SOFTWARE
+# IN ANY WAY, AND SHOULD IMMEDIATELY NOTIFY BROADCOM AND DISCONTINUE
+# ALL USE OF THE SOFTWARE.
+#
+# Except as expressly set forth in the Authorized License,
+#
+# 1.     This program, including its structure, sequence and organization,
+# constitutes the valuable trade secrets of Broadcom, and you shall use
+# all reasonable efforts to protect the confidentiality thereof,
+# and to use this information only in connection with your use of
+# Broadcom integrated circuit products.
+#
+# 2.     TO THE MAXIMUM EXTENT PERMITTED BY LAW, THE SOFTWARE IS
+# PROVIDED "AS IS" AND WITH ALL FAULTS AND BROADCOM MAKES NO PROMISES,
+# REPRESENTATIONS OR WARRANTIES, EITHER EXPRESS, IMPLIED, STATUTORY,
+# OR OTHERWISE, WITH RESPECT TO THE SOFTWARE.  BROADCOM SPECIFICALLY
+# DISCLAIMS ANY AND ALL IMPLIED WARRANTIES OF TITLE, MERCHANTABILITY,
+# NONINFRINGEMENT, FITNESS FOR A PARTICULAR PURPOSE, LACK OF VIRUSES,
+# ACCURACY OR COMPLETENESS, QUIET ENJOYMENT, QUIET POSSESSION OR
+# CORRESPONDENCE TO DESCRIPTION. YOU ASSUME THE ENTIRE RISK ARISING
+# OUT OF USE OR PERFORMANCE OF THE SOFTWARE.
+#
+# 3.     TO THE MAXIMUM EXTENT PERMITTED BY LAW, IN NO EVENT SHALL
+# BROADCOM OR ITS LICENSORS BE LIABLE FOR (i) CONSEQUENTIAL,
+# INCIDENTAL, SPECIAL, INDIRECT, OR EXEMPLARY DAMAGES WHATSOEVER
+# ARISING OUT OF OR IN ANY WAY RELATING TO YOUR USE OF OR INABILITY
+# TO USE THE SOFTWARE EVEN IF BROADCOM HAS BEEN ADVISED OF THE
+# POSSIBILITY OF SUCH DAMAGES; OR (ii) ANY AMOUNT IN EXCESS OF
+# THE AMOUNT ACTUALLY PAID FOR THE SOFTWARE ITSELF OR USD 1.00,
+# WHICHEVER IS GREATER. THESE LIMITATIONS SHALL APPLY NOTWITHSTANDING
+# ANY FAILURE OF ESSENTIAL PURPOSE OF ANY LIMITED REMEDY.$
+#
+# Make.local - contains platform specific SDK customization
+
+export BCM_PHY_LIST := 84740 8750 84328
+BOARD_LIST=EMPTY
+
+BCM_PTL_SPT = 1
+#BCM_56634_A0 = 1
+BCM_56840_A0 = 1
+BCM_56840_B0 = 1
+BCM_56850_A0 = 1
+BCM_56960_A0 = 1
+BCM_56970_A0 = 1
+BCM_56970_B0 = 1
+BCM_56870_A0 = 1 
+
+CFGFLAGS += -DSAL_BDE_DMA_MEM_DEFAULT=32
diff --git a/output/x86-xgs5-deb80/Makefile b/output/x86-xgs5-deb80/Makefile
new file mode 100644
index 0000000..e80f6e1
--- /dev/null
+++ b/output/x86-xgs5-deb80/Makefile
@@ -0,0 +1,113 @@
+# $Id: Makefile, Broadcom OpenNSL $
+# $Copyright: Copyright 2016 Broadcom Corporation.
+# This program is the proprietary software of Broadcom Corporation
+# and/or its licensors, and may only be used, duplicated, modified
+# or distributed pursuant to the terms and conditions of a separate,
+# written license agreement executed between you and Broadcom
+# (an "Authorized License").  Except as set forth in an Authorized
+# License, Broadcom grants no license (express or implied), right
+# to use, or waiver of any kind with respect to the Software, and
+# Broadcom expressly reserves all rights in and to the Software
+# and all intellectual property rights therein.  IF YOU HAVE
+# NO AUTHORIZED LICENSE, THEN YOU HAVE NO RIGHT TO USE THIS SOFTWARE
+# IN ANY WAY, AND SHOULD IMMEDIATELY NOTIFY BROADCOM AND DISCONTINUE
+# ALL USE OF THE SOFTWARE.
+#
+# Except as expressly set forth in the Authorized License,
+#
+# 1.     This program, including its structure, sequence and organization,
+# constitutes the valuable trade secrets of Broadcom, and you shall use
+# all reasonable efforts to protect the confidentiality thereof,
+# and to use this information only in connection with your use of
+# Broadcom integrated circuit products.
+#
+# 2.     TO THE MAXIMUM EXTENT PERMITTED BY LAW, THE SOFTWARE IS
+# PROVIDED "AS IS" AND WITH ALL FAULTS AND BROADCOM MAKES NO PROMISES,
+# REPRESENTATIONS OR WARRANTIES, EITHER EXPRESS, IMPLIED, STATUTORY,
+# OR OTHERWISE, WITH RESPECT TO THE SOFTWARE.  BROADCOM SPECIFICALLY
+# DISCLAIMS ANY AND ALL IMPLIED WARRANTIES OF TITLE, MERCHANTABILITY,
+# NONINFRINGEMENT, FITNESS FOR A PARTICULAR PURPOSE, LACK OF VIRUSES,
+# ACCURACY OR COMPLETENESS, QUIET ENJOYMENT, QUIET POSSESSION OR
+# CORRESPONDENCE TO DESCRIPTION. YOU ASSUME THE ENTIRE RISK ARISING
+# OUT OF USE OR PERFORMANCE OF THE SOFTWARE.
+#
+# 3.     TO THE MAXIMUM EXTENT PERMITTED BY LAW, IN NO EVENT SHALL
+# BROADCOM OR ITS LICENSORS BE LIABLE FOR (i) CONSEQUENTIAL,
+# INCIDENTAL, SPECIAL, INDIRECT, OR EXEMPLARY DAMAGES WHATSOEVER
+# ARISING OUT OF OR IN ANY WAY RELATING TO YOUR USE OF OR INABILITY
+# TO USE THE SOFTWARE EVEN IF BROADCOM HAS BEEN ADVISED OF THE
+# POSSIBILITY OF SUCH DAMAGES; OR (ii) ANY AMOUNT IN EXCESS OF
+# THE AMOUNT ACTUALLY PAID FOR THE SOFTWARE ITSELF OR USD 1.00,
+# WHICHEVER IS GREATER. THESE LIMITATIONS SHALL APPLY NOTWITHSTANDING
+# ANY FAILURE OF ESSENTIAL PURPOSE OF ANY LIMITED REMEDY.$
+#
+
+#
+# global definitions
+#
+
+-include package.cfg
+
+ifeq ($(OPENNSL_BASE),)
+   OPENNSL_BASE := $(shell echo $(dir $(abspath $(firstword $(MAKEFILE_LIST)))) | sed -e 's/\(.*\)\/output\/.*/\1/')
+endif
+export OPENNSL_BASE
+
+
+ifeq ($(L7_PLATFORM),)
+   L7_PLATFORM := x86-xgs5-deb80
+endif
+export L7_PLATFORM
+
+ifeq ($(OUTPATH),)
+   OUTPATH := output/$(L7_PLATFORM)
+endif
+export OUTPATH
+
+ifeq ($(OUTDIR),)
+   OUTDIR := $(abspath $(OPENNSL_BASE)/$(OUTPATH))
+endif
+export OUTDIR
+
+ifeq ($(CROSS_COMPILE),)
+   CROSS_COMPILE = /usr/bin/
+endif
+export CROSS_COMPILE
+
+ifeq ($(KERNEL_SRC),)
+   KERNEL_SRC = $(abspath $(OUTDIR)/headers/usr/src/linux-headers-3.16.7-ckt7)
+endif
+export KERNEL_SRC
+
+ifeq ($(KERNDIR),)
+   KERNDIR = $(KERNEL_SRC)
+endif
+export KERNDIR
+
+ifeq ($(L7_TARGETOS_VARIANT),)
+   L7_TARGETOS_VARIANT = debian_8.0
+endif
+export L7_TARGETOS_VARIANT
+
+ifeq ($(L7_CPU),)
+   L7_CPU = x86_64
+endif
+export L7_CPU
+
+ifeq ($(PLATFORM_CODE),)
+   PLATFORM_TYPE = bcmxgs
+   PLATFORM_CODE = $(abspath $(OPENNSL_BASE)/os/platform/$(PLATFORM_TYPE))
+endif
+export PLATFORM_CODE
+export PLATFORM_TYPE
+
+ifeq ($(platform),)
+   platform = x86-smp_generic_64-2_6
+endif
+export platform
+
+export BUILD_SDK_CFLAGS = -Wno-unused-result -Wno-error=format -Wno-error=format-security
+
+export CFLAGS += -fno-common -fno-strict-aliasing -fomit-frame-pointer -funit-at-a-time -msoft-float
+
+include $(OPENNSL_BASE)/tools/Make.common
diff --git a/output/x86-xgs5-deb80/package.cfg b/output/x86-xgs5-deb80/package.cfg
new file mode 100644
index 0000000..6fc5d2d
--- /dev/null
+++ b/output/x86-xgs5-deb80/package.cfg
@@ -0,0 +1,5 @@
+export L7_PLATFORM=x86-xgs5-deb80
+export L7_REL_NUM=3
+export L7_VER_NUM=5
+export L7_MAINT_NUM=0
+export L7_BUILD_NUM=3
-- 
2.7.4

